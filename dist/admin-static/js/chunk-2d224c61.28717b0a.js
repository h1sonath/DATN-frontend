(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d224c61"],{e220:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ProjectRegistration")},i=[],c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"rounded-0 elevation-0 pa-3",attrs:{height:"100%"}},[r("div",{staticClass:"d-flex flex-column justify-space-between"},[r("div",[r("v-card-text",{staticClass:"pa-8 rounded-0"},[r("div",{staticClass:"pa-3"},[r("div",{staticClass:"headline font-weight-bold primary--text text-center"},[e._v(" Đăng ký nguyện vọng kì "+e._s(e.form.semester)+" ")])]),r("v-form",{ref:"form",staticClass:"pa-3"},[r("BaseAutocomplete",{attrs:{label:"Tên học phần",items:e.form.courseName,"item-text":"courseName","item-value":"courseName",returnObject:!1,rules:[e.$rules.required]},model:{value:e.form.courseName,callback:function(t){e.$set(e.form,"courseName",t)},expression:"form.courseName"}}),r("BaseAutocomplete",{attrs:{label:"Trạng thái đăng ký trên SIS",items:[{title:"approved",value:"approved"},{title:"not-approved",value:"not-approved"}],"item-text":"title","item-value":"value",returnObject:!1,rules:[e.$rules.required]},model:{value:e.form.SIS_status,callback:function(t){e.$set(e.form,"SIS_status",t)},expression:"form.SIS_status"}}),r("BaseInput",{attrs:{label:"Điểm tiếng Anh",height:"20px",rules:[e.$rules.required]},model:{value:e.form.englishScore,callback:function(t){e.$set(e.form,"englishScore",t)},expression:"form.englishScore"}}),r("BaseInput",{attrs:{type:"number",label:"Số tín chỉ nợ",height:"20px",rules:[e.$rules.required]},model:{value:e.form.creditDebt,callback:function(t){e.$set(e.form,"creditDebt",t)},expression:"form.creditDebt"}}),r("BaseAutocomplete",{attrs:{label:"Thời gian",items:[{title:"part-time",value:"part-time"},{title:"full-time",value:"full-time"}],"item-text":"title","item-value":"value",returnObject:!1,rules:[e.$rules.required]},model:{value:e.form.workTime,callback:function(t){e.$set(e.form,"workTime",t)},expression:"form.workTime"}}),r("BaseInput",{attrs:{label:"Ghi chú của sinh viên (Nếu có)",height:"65px"}}),r("BaseAutocomplete",{attrs:{label:"Nguyện vọng 1",items:e.allTopic,"item-text":"topicName","item-value":"topicID",returnObject:!1,rules:[e.$rules.required]},model:{value:e.form.topicID1,callback:function(t){e.$set(e.form,"topicID1",t)},expression:"form.topicID1"}}),r("BaseAutocomplete",{attrs:{label:"Nguyện vọng 2",items:e.allTopic,"item-text":"topicName","item-value":"topicID",returnObject:!1,rules:[e.$rules.required]},model:{value:e.form.topicID2,callback:function(t){e.$set(e.form,"topicID2",t)},expression:"form.topicID2"}}),r("BaseAutocomplete",{attrs:{label:"Nguyện vọng 3",items:e.allTopic,"item-text":"topicName","item-value":"topicID",returnObject:!1,rules:[e.$rules.required]},model:{value:e.form.topicID3,callback:function(t){e.$set(e.form,"topicID3",t)},expression:"form.topicID3"}}),r("div",{staticClass:"d-flex justify-center"},[r("BaseButton",{attrs:{text:"Đăng ký"},on:{click:e.createRequest}})],1)],1)],1)],1)])])},a=[],s=r("5530"),n=r("1da1"),l=(r("96cf"),r("2f62")),u={created:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchAllTopicID();case 2:case"end":return t.stop()}}),t)})))()},computed:Object(s["a"])({},Object(l["c"])({allTopic:"topic/getAllTopicsShortInfo",user:"auth/getUser",getTopicRegis1:"topic/getTopicRegis1",getTopicRegis2:"topic/getTopicRegis2",getTopicRegis3:"topic/getTopicRegis3"})),data:function(){return{form:{courseName:["Thực tập kĩ thuật","Thực tập doanh nghiệp","Đồ án tốt nghiệp","Project3","Project 2"],topicID1:"",topicID2:"",topicID3:"",note:"",SIS_status:"",workTime:"",semester:"20201",englishScore:"",creditDebt:""}}},methods:Object(s["a"])(Object(s["a"])({},Object(l["b"])({fetchAllTopicID:"topic/fetchAllTopicID",createProjectRegistration:"projectRegistration/createProjectRegistration"})),{},{createRequest:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$refs.form.validate()){t.next=2;break}return t.abrupt("return");case 2:if(e.form.topicID1!==e.form.topicID2&&e.form.topicID2!==e.form.topicID3&&e.form.topicID3!==e.form.topicID1){t.next=7;break}return e.$message.error("Không được đăng ký nguyện vọng trùng đề tài"),t.abrupt("return");case 7:return t.prev=7,t.next=10,e.createProjectRegistration({studentID:e.user.studentID,note:"Đồ án",topicID1:e.form.topicID1,topicID2:e.form.topicID2,topicID3:e.form.topicID3,timeType:e.form.workTime,SIS_status:e.form.SIS_status,englishScore:e.form.englishScore,creditDebt:e.form.creditDebt,semester:e.form.semester});case 10:e.$message.success("Đã tạo bản đăng ký nguyện vọng thành công"),e.$router.push("/projectList"),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](7),e.$message.error(t.t0);case 17:case"end":return t.stop()}}),t,null,[[7,14]])})))()}}),watch:{getTopicRegis1:{handler:function(e){e&&(this.form.topicID1=e)},immediate:!0},getTopicRegis2:{handler:function(e){e&&(this.form.topicID2=e)},immediate:!0},getTopicRegis3:{handler:function(e){e&&(this.form.topicID3=e)},immediate:!0}}},m=u,p=r("2877"),f=r("6544"),g=r.n(f),d=r("b0af"),h=r("99d9"),b=r("4bd4"),v=Object(p["a"])(m,c,a,!1,null,null,null),I=v.exports;g()(v,{VCard:d["a"],VCardText:h["b"],VForm:b["a"]});var D={components:{ProjectRegistration:I}},x=D,k=Object(p["a"])(x,o,i,!1,null,null,null);t["default"]=k.exports}}]);
//# sourceMappingURL=chunk-2d224c61.28717b0a.js.map