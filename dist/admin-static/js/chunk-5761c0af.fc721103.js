(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5761c0af"],{"0c19":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"text-h6 font-weight-medium mb-3"},[t._v(" "+t._s(t.student.studentName)+"-"+t._s(t.student.studentNumber)+" ")]),t.accountInfo?r("div",[t._l(t.studentInfo,(function(e,n){return r("div",{key:n,staticClass:"student-info"},[r("v-icon",{staticClass:"mr-2"},[t._v("mdi-file-account-outline")]),t._v(" "+t._s(e.title)+" "+t._s(e.info)+" ")],1)})),r("a",{staticClass:"pt-2 pb-2 action-hover",on:{click:t.goToChangeStudentInfo}},[t._v(" [Cập nhật thông tin] ")])],2):t._e()])},o=[],a=r("5530"),s=r("1da1"),c=(r("96cf"),r("2f62")),i={props:{student:Object},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchAccount();case 2:case"end":return e.stop()}}),e)})))()},data:function(){return{accountInfo:{}}},computed:Object(a["a"])(Object(a["a"])({},Object(c["c"])({currentAccount:"account/getCurrentAccount",program:"program/getOneProgramById"})),{},{studentInfo:function(){return[{title:"Hệ:",info:this.program.schoolName},{title:"Khóa:",info:this.student.inYear},{title:"Email:",info:this.student.schoolEmail},{title:"Điện thoại:",info:this.currentAccount.phone}]}}),methods:Object(a["a"])(Object(a["a"])({},Object(c["b"])({fetchAccount:"account/fetchAccount",fetchProgram:"program/fetchProgram"})),{},{goToChangeStudentInfo:function(){"/changeStudentInfo"!==this.$route.path&&this.$router.push("/changeStudentInfo")}})},u=i,d=(r("d255"),r("2877")),l=r("6544"),f=r.n(l),m=r("132d"),h=Object(d["a"])(u,n,o,!1,null,"6b9f2c8c",null);e["a"]=h.exports;f()(h,{VIcon:m["a"]})},"344b":function(t,e,r){"use strict";r("7dca")},6161:function(t,e,r){},"7dca":function(t,e,r){},a343:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("UpdateStudentInfo")},o=[],a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"pa-3"},[r("v-card",{staticClass:"rounded-0 elevation-0 pa-3",attrs:{height:"100%"}},[r("v-form",{ref:"form"},[r("v-row",[r("v-col",{attrs:{sm:"12",md:"9"}},[r("div",{staticClass:"headline font-weight-bold primary--text pa-3"},[t._v(" Cập nhật thông tin ")]),r("v-row",{staticClass:"pa-3"},[r("v-col",{attrs:{sm:"6",md:"6",xs:"12"}},[r("div",{staticClass:"black--text"},[t._v(" Hệ (*) "),r("v-text-field",{ref:"schoolName",attrs:{dense:"",rules:[t.$rules.required],outlined:""},model:{value:t.program.schoolName,callback:function(e){t.$set(t.program,"schoolName","string"===typeof e?e.trim():e)},expression:"program.schoolName"}})],1),r("div",{staticClass:"black--text"},[t._v(" Họ và tên (*) ")]),r("v-text-field",{ref:"studentName",attrs:{dense:"",rules:[t.$rules.required],outlined:""},model:{value:t.form.studentName,callback:function(e){t.$set(t.form,"studentName","string"===typeof e?e.trim():e)},expression:"form.studentName"}}),r("div",{staticClass:"black--text"},[t._v(" Email cá nhân (*) ")]),r("v-text-field",{ref:"email",attrs:{dense:"",rules:[t.$rules.required,t.$rules.email],outlined:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email","string"===typeof e?e.trim():e)},expression:"form.email"}}),r("div",{staticClass:"black--text"},[t._v(" Giới tính (*) ")]),r("v-text-field",{ref:"gender",attrs:{dense:"",rules:[t.$rules.required],outlined:""},model:{value:t.form.gender,callback:function(e){t.$set(t.form,"gender","string"===typeof e?e.trim():e)},expression:"form.gender"}}),r("div",{staticClass:"black--text"},[t._v(" Email trường (*) ")]),r("v-text-field",{ref:"schoolEmail",attrs:{dense:"",rules:[t.$rules.required,t.$rules.email],outlined:""},model:{value:t.form.schoolEmail,callback:function(e){t.$set(t.form,"schoolEmail","string"===typeof e?e.trim():e)},expression:"form.schoolEmail"}})],1),r("v-col",{staticStyle:{"border-right":"1px solid black"},attrs:{sm:"6",md:"6",xs:"12"}},[r("div",[t._v(" Link facebook (*) ")]),r("v-text-field",{ref:"facebookLink",attrs:{dense:"",rules:[t.$rules.required],outlined:""},model:{value:t.form.facebookLink,callback:function(e){t.$set(t.form,"facebookLink","string"===typeof e?e.trim():e)},expression:"form.facebookLink"}}),r("div",{staticClass:"black--text"},[t._v(" Điện thoại (*) ")]),r("v-text-field",{ref:"phone",attrs:{dense:"",rules:[t.$rules.required,t.$rules.phone],outlined:""},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone","string"===typeof e?e.trim():e)},expression:"form.phone"}}),r("div",{staticClass:"black--text"},[t._v(" Quốc gia (*) ")]),r("v-text-field",{ref:"country",attrs:{dense:"",rules:[t.$rules.required],outlined:""},model:{value:t.form.country,callback:function(e){t.$set(t.form,"country","string"===typeof e?e.trim():e)},expression:"form.country"}}),r("div",{staticClass:"black--text"},[t._v(" Quê quán (*) ")]),r("v-text-field",{ref:"province",attrs:{dense:"",rules:[t.$rules.required],outlined:""},model:{value:t.form.province,callback:function(e){t.$set(t.form,"province","string"===typeof e?e.trim():e)},expression:"form.province"}}),r("div",{staticClass:"black--text"},[t._v(" Địa chỉ (*) ")]),r("v-text-field",{ref:"address",attrs:{dense:"",rules:[t.$rules.required],outlined:""},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address","string"===typeof e?e.trim():e)},expression:"form.address"}})],1)],1),r("div",{staticClass:"d-flex justify-center pa-3"},[r("BaseButton",{attrs:{text:"Cập nhật"},on:{click:t.updateStudentInfomation}})],1)],1),r("v-col",{attrs:{sm:"12",md:"3",xs:"12"}},[t.user?r("StudentInfo",{attrs:{student:t.user.student,accountInfo:t.currentAccount}}):t._e()],1)],1)],1)],1)],1)},s=[],c=r("5530"),i=r("1da1"),u=(r("96cf"),r("0c19")),d=r("2f62"),l={components:{StudentInfo:u["a"]},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchAccount();case 2:if(!t.user.student.programID){e.next=5;break}return e.next=5,t.fetchProgram(t.user.student.programID);case 5:return e.next=7,t.fetchStudent(t.user.student.studentID);case 7:case"end":return e.stop()}}),e)})))()},data:function(){return{form:{studentName:"",studentNumber:"",gender:"",schoolEmail:"",facebookLink:"",cvLink:"",country:"",province:"",address:"",email:"",phone:"",inYear:"2"}}},computed:Object(c["a"])({},Object(d["c"])({user:"auth/getUser",program:"program/getOneProgramById",currentAccount:"account/getCurrentAccount",student:"student/getOneStudentById"})),methods:Object(c["a"])(Object(c["a"])({},Object(d["b"])({fetchAccount:"account/fetchAccount",updateStudent:"student/updateStudent",updateAccount:"account/updateAccount",fetchProgram:"program/fetchProgram",fetchStudent:"student/fetchStudent"})),{},{updateStudentInfomation:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$refs.form.validate()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.updateStudent({id:t.student.studentID,programID:t.student.programID,inYear:t.form.inYear,studentName:t.form.studentName,studentNumber:t.form.studentNumber,gender:t.form.gender,schoolEmail:t.form.schoolEmail,facebookLink:t.form.facebookLink,cvLink:t.form.cvLink,country:t.form.country,province:t.form.province,address:t.form.address});case 4:return e.next=6,t.updateAccount({phone:t.form.phone,email:t.form.email});case 6:location.reload();case 7:case"end":return e.stop()}}),e)})))()}}),watch:{student:{handler:function(t){t&&(this.form.studentName=t.studentName,this.form.studentNumber=t.studentNumber,this.form.gender=t.gender,this.form.schoolEmail=t.schoolEmail,this.form.facebookLink=t.facebookLink,this.form.cvLink=t.cvLink,this.form.country=t.country,this.form.province=t.province,this.form.address=t.address)},immediate:!0},currentAccount:{handler:function(t){t&&(this.form.phone=t.phone,this.form.email=t.email)},immediate:!0}}},f=l,m=(r("344b"),r("2877")),h=r("6544"),p=r.n(h),v=r("b0af"),b=r("62ad"),g=r("4bd4"),k=r("0fd9"),x=r("8654"),$=Object(m["a"])(f,a,s,!1,null,"2045bd19",null),_=$.exports;p()($,{VCard:v["a"],VCol:b["a"],VForm:g["a"],VRow:k["a"],VTextField:x["a"]});var C={components:{UpdateStudentInfo:_}},y=C,I=Object(m["a"])(y,n,o,!1,null,null,null);e["default"]=I.exports},d255:function(t,e,r){"use strict";r("6161")}}]);
//# sourceMappingURL=chunk-5761c0af.fc721103.js.map